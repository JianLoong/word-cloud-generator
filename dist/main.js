(()=>{var e={6929:(e,t,n)=>{var i=n(8297).W,r=Math.PI/180,a=2048;function s(e){return e.text}function o(){return"serif"}function l(){return"normal"}function c(e){return Math.sqrt(e.value)}function u(){return 30*(~~(6*Math.random())-3)}function d(){return 1}function h(e,t,n,i){if(!t.sprite){var s=e.context,o=e.ratio;s.clearRect(0,0,2048/o,a/o);var l=0,c=0,u=0,d=n.length;for(--i;++i<d;){t=n[i],s.save(),s.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font;var h=s.measureText(t.text+"m").width*o,f=t.size<<1;if(t.rotate){var p=Math.sin(t.rotate*r),b=Math.cos(t.rotate*r),m=h*b,g=h*p,_=f*b,v=f*p;h=Math.max(Math.abs(m+v),Math.abs(m-v))+31>>5<<5,f=~~Math.max(Math.abs(g+_),Math.abs(g-_))}else h=h+31>>5<<5;if(f>u&&(u=f),l+h>=2048&&(l=0,c+=u,u=0),c+f>=a)break;s.translate((l+(h>>1))/o,(c+(f>>1))/o),t.rotate&&s.rotate(t.rotate*r),s.fillText(t.text,0,0),t.padding&&(s.lineWidth=2*t.padding,s.strokeText(t.text,0,0)),s.restore(),t.width=h,t.height=f,t.xoff=l,t.yoff=c,t.x1=h>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,l+=h}for(var y=s.getImageData(0,0,2048/o,a/o).data,w=[];--i>=0;)if((t=n[i]).hasText){for(var x=(h=t.width)>>5,k=(f=t.y1-t.y0,0);k<f*x;k++)w[k]=0;if(null==(l=t.xoff))return;c=t.yoff;for(var E=0,M=-1,A=0;A<f;A++){for(k=0;k<h;k++){var C=x*A+(k>>5),S=y[2048*(c+A)+(l+k)<<2]?1<<31-k%32:0;w[C]|=S,E|=S}E?M=A:(t.y0++,f--,A--,c++)}t.y1=t.y0+M,t.sprite=w.slice(0,(t.y1-t.y0)*x)}}}function f(e,t,n){n>>=5;for(var i,r=e.sprite,a=e.width>>5,s=e.x-(a<<4),o=127&s,l=32-o,c=e.y1-e.y0,u=(e.y+e.y0)*n+(s>>5),d=0;d<c;d++){i=0;for(var h=0;h<=a;h++)if((i<<l|(h<a?(i=r[d*a+h])>>>o:0))&t[u+h])return!0;u+=n}return!1}function p(e,t){var n=e[0],i=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>i.x&&(i.x=t.x+t.x1),t.y+t.y1>i.y&&(i.y=t.y+t.y1)}function b(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function m(){return document.createElement("canvas")}function g(e){return"function"==typeof e?e:function(){return e}}e.exports=function(){var e=[256,256],t=s,n=o,r=c,v=l,y=l,w=u,x=d,k=b,E=[],M=1/0,A=i("word","end"),C=null,S=Math.random,I={},L=m;function O(t,n,i){e[0],e[1];for(var r,a,s,o,l,c=n.x,u=n.y,d=Math.sqrt(e[0]*e[0]+e[1]*e[1]),h=k(e),p=S()<.5?1:-1,b=-p;(r=h(b+=p))&&(a=~~r[0],s=~~r[1],!(Math.min(Math.abs(a),Math.abs(s))>=d));)if(n.x=c+a,n.y=u+s,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>e[0]||n.y+n.y1>e[1]||i&&f(n,t,e[0])||i&&(l=i,!((o=n).x+o.x1>l[0].x&&o.x+o.x0<l[1].x&&o.y+o.y1>l[0].y&&o.y+o.y0<l[1].y)))){for(var m,g=n.sprite,_=n.width>>5,v=e[0]>>5,y=n.x-(_<<4),w=127&y,x=32-w,E=n.y1-n.y0,M=(n.y+n.y0)*v+(y>>5),A=0;A<E;A++){m=0;for(var C=0;C<=_;C++)t[M+C]|=m<<x|(C<_?(m=g[A*_+C])>>>w:0);M+=v}return delete n.sprite,!0}return!1}return I.canvas=function(e){return arguments.length?(L=g(e),I):L},I.start=function(){var i=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=a/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(L()),s=function(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}((e[0]>>5)*e[1]),o=null,l=E.length,c=-1,u=[],d=E.map((function(e,i){return e.text=t.call(this,e,i),e.font=n.call(this,e,i),e.style=v.call(this,e,i),e.weight=y.call(this,e,i),e.rotate=w.call(this,e,i),e.size=~~r.call(this,e,i),e.padding=x.call(this,e,i),e})).sort((function(e,t){return t.size-e.size}));return C&&clearInterval(C),C=setInterval(f,0),f(),I;function f(){for(var t=Date.now();Date.now()-t<M&&++c<l&&C;){var n=d[c];n.x=e[0]*(S()+.5)>>1,n.y=e[1]*(S()+.5)>>1,h(i,n,d,c),n.hasText&&O(s,n,o)&&(u.push(n),A.call("word",I,n),o?p(o,n):o=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=e[0]>>1,n.y-=e[1]>>1)}c>=l&&(I.stop(),A.call("end",I,u,o))}},I.stop=function(){return C&&(clearInterval(C),C=null),I},I.timeInterval=function(e){return arguments.length?(M=null==e?1/0:e,I):M},I.words=function(e){return arguments.length?(E=e,I):E},I.size=function(t){return arguments.length?(e=[+t[0],+t[1]],I):e},I.font=function(e){return arguments.length?(n=g(e),I):n},I.fontStyle=function(e){return arguments.length?(v=g(e),I):v},I.fontWeight=function(e){return arguments.length?(y=g(e),I):y},I.rotate=function(e){return arguments.length?(w=g(e),I):w},I.text=function(e){return arguments.length?(t=g(e),I):t},I.spiral=function(e){return arguments.length?(k=_[e]||e,I):k},I.fontSize=function(e){return arguments.length?(r=g(e),I):r},I.padding=function(e){return arguments.length?(x=g(e),I):x},I.random=function(e){return arguments.length?(S=e,I):S},I.on=function(){var e=A.on.apply(A,arguments);return e===A?I:e},I};var _={archimedean:b,rectangular:function(e){var t=4*e[0]/e[1],n=0,i=0;return function(e){var r=e<0?-1:1;switch(Math.sqrt(1+4*r*e)-r&3){case 0:n+=t;break;case 1:i+=4;break;case 2:n-=t;break;default:i-=4}return[n,i]}}}},8297:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var i={value:function(){}};function r(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new a(i)}function a(e){this._=e}function s(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function o(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function l(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=i,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}a.prototype=r.prototype={constructor:a,on:function(e,t){var n,i=this._,r=s(e+"",i),a=-1,c=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<c;)if(n=(e=r[a]).type)i[n]=l(i[n],e.name,t);else if(null==t)for(n in i)i[n]=l(i[n],e.name,null);return this}for(;++a<c;)if((n=(e=r[a]).type)&&(n=o(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new a(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(i=this._[e]).length;a<n;++a)i[a].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};const c=r},2687:e=>{function t(e,n){const i=window.getComputedStyle(e);for(const e of i)n.style[e]=i[e];for(let i=0;i<e.children.length;i++)t(e.children[i],n.children[i])}e.exports=async function(e,n,{scale:i=1,format:r="png",quality:a=.92,download:s=!0,ignore:o=null,cssinline:l=1,background:c=null}={}){e=e instanceof Element?e:document.querySelector(e);const u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.innerHTML=e.innerHTML;for(const t of e.attributes)u.setAttribute(t.name,t.value);if(1===l&&t(e,u),c&&(u.style.background=c),null!=o){const e=u.querySelector(o);e.parentNode.removeChild(e)}const d=await function({source:e,target:t,scale:n,format:i,quality:r}){let a=(new XMLSerializer).serializeToString(t),s=document.createElement("canvas"),o=e.getBoundingClientRect();s.width=o.width*n,s.height=o.height*n,s.style.width=o.width,s.style.height=o.height;let l=s.getContext("2d");l.scale(n,n);let c=document.createElement("img");return c.setAttribute("src","data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(a)))),new Promise((e=>{c.onload=()=>{l.drawImage(c,0,0),e(s.toDataURL(`image/${"jpg"===i?"jpeg":i}`,r))}}))}({source:e,target:u,scale:i,format:r,quality:a});return s&&function({file:e,name:t,format:n}){let i=document.createElement("a");i.download=`${t}.${n}`,i.href=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}({file:d,name:n,format:r}),d}},3805:e=>{"use strict";e.exports=r,e.exports.isMobile=r,e.exports.default=r;const t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,i=/android|ipad|playbook|silk/i;function r(e){e||(e={});let r=e.ua;if(r||"undefined"==typeof navigator||(r=navigator.userAgent),r&&r.headers&&"string"==typeof r.headers["user-agent"]&&(r=r.headers["user-agent"]),"string"!=typeof r)return!1;let a=t.test(r)&&!n.test(r)||!!e.tablet&&i.test(r);return!a&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==r.indexOf("Macintosh")&&-1!==r.indexOf("Safari")&&(a=!0),a}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.u=e=>e+".main.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,(()=>{"use strict";class e extends Map{constructor(e,t=s){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(i(this,e))}has(e){return super.has(i(this,e))}set(e,t){return super.set(r(this,e),t)}delete(e){return super.delete(a(this,e))}}class t extends Set{constructor(e,t=s){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(i(this,e))}add(e){return super.add(r(this,e))}delete(e){return super.delete(a(this,e))}}function i({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function r({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function a({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function s(e){return null!==e&&"object"==typeof e?e.valueOf():e}function o(t,n,...i){return function(t,n,i,r){return function t(a,s){if(s>=r.length)return i(a);const o=new e,l=r[s++];let c=-1;for(const e of a){const t=l(e,++c,a),n=o.get(t);n?n.push(e):o.set(t,[e])}for(const[e,n]of o)o.set(e,t(n,s));return n(o)}(t,0)}(t,Array.from,n,i)}function l(){}function c(e){return null==e?l:function(){return this.querySelector(e)}}function u(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function d(){return[]}function h(e){return null==e?d:function(){return this.querySelectorAll(e)}}function f(e){return function(){return this.matches(e)}}function p(e){return function(t){return t.matches(e)}}var b=Array.prototype.find;function m(){return this.firstElementChild}var g=Array.prototype.filter;function _(){return Array.from(this.children)}function v(e){return new Array(e.length)}function y(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function w(e){return function(){return e}}function x(e,t,n,i,r,a){for(var s,o=0,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],i[o]=s):n[o]=new y(e,a[o]);for(;o<l;++o)(s=t[o])&&(r[o]=s)}function k(e,t,n,i,r,a,s){var o,l,c,u=new Map,d=t.length,h=a.length,f=new Array(d);for(o=0;o<d;++o)(l=t[o])&&(f[o]=c=s.call(l,l.__data__,o,t)+"",u.has(c)?r[o]=l:u.set(c,l));for(o=0;o<h;++o)c=s.call(e,a[o],o,a)+"",(l=u.get(c))?(i[o]=l,l.__data__=a[o],u.delete(c)):n[o]=new y(e,a[o]);for(o=0;o<d;++o)(l=t[o])&&u.get(f[o])===l&&(r[o]=l)}function E(e){return e.__data__}function M(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function A(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}y.prototype={constructor:y,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var C="http://www.w3.org/1999/xhtml";const S={svg:"http://www.w3.org/2000/svg",xhtml:C,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function I(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),S.hasOwnProperty(t)?{space:S[t],local:e}:e}function L(e){return function(){this.removeAttribute(e)}}function O(e){return function(){this.removeAttributeNS(e.space,e.local)}}function N(e,t){return function(){this.setAttribute(e,t)}}function D(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function T(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function H(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function R(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function P(e){return function(){this.style.removeProperty(e)}}function $(e,t,n){return function(){this.style.setProperty(e,t,n)}}function B(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function q(e,t){return e.style.getPropertyValue(t)||R(e).getComputedStyle(e,null).getPropertyValue(t)}function U(e){return function(){delete this[e]}}function z(e,t){return function(){this[e]=t}}function F(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function j(e){return e.trim().split(/^|\s+/)}function W(e){return e.classList||new V(e)}function V(e){this._node=e,this._names=j(e.getAttribute("class")||"")}function X(e,t){for(var n=W(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function G(e,t){for(var n=W(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Y(e){return function(){X(this,e)}}function K(e){return function(){G(this,e)}}function J(e,t){return function(){(t.apply(this,arguments)?X:G)(this,e)}}function Q(){this.textContent=""}function Z(e){return function(){this.textContent=e}}function ee(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function te(){this.innerHTML=""}function ne(e){return function(){this.innerHTML=e}}function ie(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function re(){this.nextSibling&&this.parentNode.appendChild(this)}function ae(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function se(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===C&&t.documentElement.namespaceURI===C?t.createElement(e):t.createElementNS(n,e)}}function oe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function le(e){var t=I(e);return(t.local?oe:se)(t)}function ce(){return null}function ue(){var e=this.parentNode;e&&e.removeChild(this)}function de(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function he(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fe(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function pe(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,a=t.length;i<a;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function be(e,t,n){return function(){var i,r=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=t);this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function me(e,t,n){var i=R(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function ge(e,t){return function(){return me(this,e,t)}}function _e(e,t){return function(){return me(this,e,t.apply(this,arguments))}}V.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ve=[null];function ye(e,t){this._groups=e,this._parents=t}function we(){return new ye([[document.documentElement]],ve)}ye.prototype=we.prototype={constructor:ye,select:function(e){"function"!=typeof e&&(e=c(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a,s,o=t[r],l=o.length,u=i[r]=new Array(l),d=0;d<l;++d)(a=o[d])&&(s=e.call(a,a.__data__,d,o))&&("__data__"in a&&(s.__data__=a.__data__),u[d]=s);return new ye(i,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return u(e.apply(this,arguments))}}(e):h(e);for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a)for(var s,o=t[a],l=o.length,c=0;c<l;++c)(s=o[c])&&(i.push(e.call(s,s.__data__,c,o)),r.push(s));return new ye(i,r)},selectChild:function(e){return this.select(null==e?m:function(e){return function(){return b.call(this.children,e)}}("function"==typeof e?e:p(e)))},selectChildren:function(e){return this.selectAll(null==e?_:function(e){return function(){return g.call(this.children,e)}}("function"==typeof e?e:p(e)))},filter:function(e){"function"!=typeof e&&(e=f(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a,s=t[r],o=s.length,l=i[r]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new ye(i,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,E);var n=t?k:x,i=this._parents,r=this._groups;"function"!=typeof e&&(e=w(e));for(var a=r.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=i[c],d=r[c],h=d.length,f=M(e.call(u,u&&u.__data__,c,i)),p=f.length,b=o[c]=new Array(p),m=s[c]=new Array(p),g=l[c]=new Array(h);n(u,d,b,m,g,f,t);for(var _,v,y=0,A=0;y<p;++y)if(_=b[y]){for(y>=A&&(A=y+1);!(v=m[A])&&++A<p;);_._next=v||null}}return(s=new ye(s,i))._enter=o,s._exit=l,s},enter:function(){return new ye(this._enter||this._groups.map(v),this._parents)},exit:function(){return new ye(this._exit||this._groups.map(v),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,a=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,a=i.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c,u=n[l],d=i[l],h=u.length,f=o[l]=new Array(h),p=0;p<h;++p)(c=u[p]||d[p])&&(f[p]=c);for(;l<r;++l)o[l]=n[l];return new ye(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],a=r.length-1,s=r[a];--a>=0;)(i=r[a])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=A);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var s,o=n[a],l=o.length,c=r[a]=new Array(l),u=0;u<l;++u)(s=o[u])&&(c[u]=s);c.sort(t)}return new ye(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,a=t[n],s=0,o=a.length;s<o;++s)(r=a[s])&&e.call(r,r.__data__,s,a);return this},attr:function(e,t){var n=I(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?O:L:"function"==typeof t?n.local?H:T:n.local?D:N)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?P:"function"==typeof t?B:$)(e,t,null==n?"":n)):q(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?U:"function"==typeof t?F:z)(e,t)):this.node()[e]},classed:function(e,t){var n=j(e+"");if(arguments.length<2){for(var i=W(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?J:t?Y:K)(n,t))},text:function(e){return arguments.length?this.each(null==e?Q:("function"==typeof e?ee:Z)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?te:("function"==typeof e?ie:ne)(e)):this.node().innerHTML},raise:function(){return this.each(re)},lower:function(){return this.each(ae)},append:function(e){var t="function"==typeof e?e:le(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:le(e),i=null==t?ce:"function"==typeof t?t:c(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(ue)},clone:function(e){return this.select(e?he:de)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,a=fe(e+""),s=a.length;if(!(arguments.length<2)){for(o=t?be:pe,i=0;i<s;++i)this.each(o(a[i],t,n));return this}var o=this.node().__on;if(o)for(var l,c=0,u=o.length;c<u;++c)for(i=0,l=o[c];i<s;++i)if((r=a[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?_e:ge)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i,r=e[t],a=0,s=r.length;a<s;++a)(i=r[a])&&(yield i)}};const xe=we;var ke={value:()=>{}};function Ee(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new Me(i)}function Me(e){this._=e}function Ae(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Ce(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function Se(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=ke,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}Me.prototype=Ee.prototype={constructor:Me,on:function(e,t){var n,i=this._,r=Ae(e+"",i),a=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=r[a]).type)i[n]=Se(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Se(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=r[a]).type)&&(n=Ce(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Me(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(i=this._[e]).length;a<n;++a)i[a].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};const Ie=Ee;var Le,Oe,Ne=0,De=0,Te=0,He=0,Re=0,Pe=0,$e="object"==typeof performance&&performance.now?performance:Date,Be="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qe(){return Re||(Be(Ue),Re=$e.now()+Pe)}function Ue(){Re=0}function ze(){this._call=this._time=this._next=null}function Fe(e,t,n){var i=new ze;return i.restart(e,t,n),i}function je(){Re=(He=$e.now())+Pe,Ne=De=0;try{!function(){qe(),++Ne;for(var e,t=Le;t;)(e=Re-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ne}()}finally{Ne=0,function(){for(var e,t,n=Le,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Le=t);Oe=e,Ve(i)}(),Re=0}}function We(){var e=$e.now(),t=e-He;t>1e3&&(Pe-=t,He=e)}function Ve(e){Ne||(De&&(De=clearTimeout(De)),e-Re>24?(e<1/0&&(De=setTimeout(je,e-$e.now()-Pe)),Te&&(Te=clearInterval(Te))):(Te||(He=$e.now(),Te=setInterval(We,1e3)),Ne=1,Be(je)))}function Xe(e,t,n){var i=new ze;return t=null==t?0:+t,i.restart((n=>{i.stop(),e(n+t)}),t,n),i}ze.prototype=Fe.prototype={constructor:ze,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?qe():+n)+(null==t?0:+t),this._next||Oe===this||(Oe?Oe._next=this:Le=this,Oe=this),this._call=e,this._time=n,Ve()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ve())}};var Ge=Ie("start","end","cancel","interrupt"),Ye=[];function Ke(e,t,n,i,r,a){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function a(l){var c,u,d,h;if(1!==n.state)return o();for(c in r)if((h=r[c]).name===n.name){if(3===h.state)return Xe(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Xe((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=h);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(o),n.state=5,1),a=-1,s=i.length;++a<s;)i[a].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Fe((function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:Ge,tween:Ye,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Je(e,t){var n=Ze(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Qe(e,t){var n=Ze(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Ze(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function et(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var tt,nt=180/Math.PI,it={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rt(e,t,n,i,r,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,l/=o),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*nt,skewX:Math.atan(l)*nt,scaleX:s,scaleY:o}}function at(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(a,s){var o=[],l=[];return a=e(a),s=e(s),function(e,i,r,a,s,o){if(e!==r||i!==a){var l=s.push("translate(",null,t,null,n);o.push({i:l-4,x:et(e,r)},{i:l-2,x:et(i,a)})}else(r||a)&&s.push("translate("+r+t+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,o,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(r(n)+"rotate(",null,i)-2,x:et(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}(a.rotate,s.rotate,o,l),function(e,t,n,a){e!==t?a.push({i:n.push(r(n)+"skewX(",null,i)-2,x:et(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(a.skewX,s.skewX,o,l),function(e,t,n,i,a,s){if(e!==n||t!==i){var o=a.push(r(a)+"scale(",null,",",null,")");s.push({i:o-4,x:et(e,n)},{i:o-2,x:et(t,i)})}else 1===n&&1===i||a.push(r(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,l),a=s=null,function(e){for(var t,n=-1,i=l.length;++n<i;)o[(t=l[n]).i]=t.x(e);return o.join("")}}}var st=at((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?it:rt(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),ot=at((function(e){return null==e?it:(tt||(tt=document.createElementNS("http://www.w3.org/2000/svg","g")),tt.setAttribute("transform",e),(e=tt.transform.baseVal.consolidate())?rt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):it)}),", ",")",")");function lt(e,t){var n,i;return function(){var r=Qe(this,e),a=r.tween;if(a!==n)for(var s=0,o=(i=n=a).length;s<o;++s)if(i[s].name===t){(i=i.slice()).splice(s,1);break}r.tween=i}}function ct(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var a=Qe(this,e),s=a.tween;if(s!==i){r=(i=s).slice();for(var o={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=o;break}l===c&&r.push(o)}a.tween=r}}function ut(e,t,n){var i=e._id;return e.each((function(){var e=Qe(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Ze(e,i).value[t]}}function dt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ht(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function ft(){}var pt=.7,bt=1/pt,mt="\\s*([+-]?\\d+)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vt=/^#([0-9a-f]{3,8})$/,yt=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),wt=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),xt=new RegExp(`^rgba\\(${mt},${mt},${mt},${gt}\\)$`),kt=new RegExp(`^rgba\\(${_t},${_t},${_t},${gt}\\)$`),Et=new RegExp(`^hsl\\(${gt},${_t},${_t}\\)$`),Mt=new RegExp(`^hsla\\(${gt},${_t},${_t},${gt}\\)$`),At={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ct(){return this.rgb().formatHex()}function St(){return this.rgb().formatRgb()}function It(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Lt(t):3===n?new Tt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ot(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ot(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=yt.exec(e))?new Tt(t[1],t[2],t[3],1):(t=wt.exec(e))?new Tt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=xt.exec(e))?Ot(t[1],t[2],t[3],t[4]):(t=kt.exec(e))?Ot(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Et.exec(e))?qt(t[1],t[2]/100,t[3]/100,1):(t=Mt.exec(e))?qt(t[1],t[2]/100,t[3]/100,t[4]):At.hasOwnProperty(e)?Lt(At[e]):"transparent"===e?new Tt(NaN,NaN,NaN,0):null}function Lt(e){return new Tt(e>>16&255,e>>8&255,255&e,1)}function Ot(e,t,n,i){return i<=0&&(e=t=n=NaN),new Tt(e,t,n,i)}function Nt(e){return e instanceof ft||(e=It(e)),e?new Tt((e=e.rgb()).r,e.g,e.b,e.opacity):new Tt}function Dt(e,t,n,i){return 1===arguments.length?Nt(e):new Tt(e,t,n,null==i?1:i)}function Tt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Ht(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}`}function Rt(){const e=Pt(this.opacity);return`${1===e?"rgb(":"rgba("}${$t(this.r)}, ${$t(this.g)}, ${$t(this.b)}${1===e?")":`, ${e})`}`}function Pt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $t(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bt(e){return((e=$t(e))<16?"0":"")+e.toString(16)}function qt(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zt(e,t,n,i)}function Ut(e){if(e instanceof zt)return new zt(e.h,e.s,e.l,e.opacity);if(e instanceof ft||(e=It(e)),!e)return new zt;if(e instanceof zt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),s=NaN,o=a-r,l=(a+r)/2;return o?(s=t===a?(n-i)/o+6*(n<i):n===a?(i-t)/o+2:(t-n)/o+4,o/=l<.5?a+r:2-a-r,s*=60):o=l>0&&l<1?0:s,new zt(s,o,l,e.opacity)}function zt(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Ft(e){return(e=(e||0)%360)<0?e+360:e}function jt(e){return Math.max(0,Math.min(1,e||0))}function Wt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Vt(e,t,n,i,r){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*i+s*r)/6}dt(ft,It,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ct,formatHex:Ct,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ut(this).formatHsl()},formatRgb:St,toString:St}),dt(Tt,Dt,ht(ft,{brighter(e){return e=null==e?bt:Math.pow(bt,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?pt:Math.pow(pt,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tt($t(this.r),$t(this.g),$t(this.b),Pt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ht,formatHex:Ht,formatHex8:function(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}${Bt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Rt,toString:Rt})),dt(zt,(function(e,t,n,i){return 1===arguments.length?Ut(e):new zt(e,t,n,null==i?1:i)}),ht(ft,{brighter(e){return e=null==e?bt:Math.pow(bt,e),new zt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?pt:Math.pow(pt,e),new zt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Tt(Wt(e>=240?e-240:e+120,r,i),Wt(e,r,i),Wt(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new zt(Ft(this.h),jt(this.s),jt(this.l),Pt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pt(this.opacity);return`${1===e?"hsl(":"hsla("}${Ft(this.h)}, ${100*jt(this.s)}%, ${100*jt(this.l)}%${1===e?")":`, ${e})`}`}}));const Xt=e=>()=>e;function Gt(e,t){return function(n){return e+n*t}}function Yt(e,t){var n=t-e;return n?Gt(e,n):Xt(isNaN(e)?t:e)}const Kt=function e(t){var n=function(e){return 1==(e=+e)?Yt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):Xt(isNaN(t)?n:t)}}(t);function i(e,t){var i=n((e=Dt(e)).r,(t=Dt(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),s=Yt(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=a(t),e.opacity=s(t),e+""}}return i.gamma=e,i}(1);function Jt(e){return function(t){var n,i,r=t.length,a=new Array(r),s=new Array(r),o=new Array(r);for(n=0;n<r;++n)i=Dt(t[n]),a[n]=i.r||0,s[n]=i.g||0,o[n]=i.b||0;return a=e(a),s=e(s),o=e(o),i.opacity=1,function(e){return i.r=a(e),i.g=s(e),i.b=o(e),i+""}}}var Qt=Jt((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],a=e[i+1],s=i>0?e[i-1]:2*r-a,o=i<t-1?e[i+2]:2*a-r;return Vt((n-i/t)*t,s,r,a,o)}})),Zt=(Jt((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],o=e[(i+2)%t];return Vt((n-i/t)*t,r,a,s,o)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),en=new RegExp(Zt.source,"g");function tn(e,t){var n,i,r,a=Zt.lastIndex=en.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=Zt.exec(e))&&(i=en.exec(t));)(r=i.index)>a&&(r=t.slice(a,r),o[s]?o[s]+=r:o[++s]=r),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:et(n,i)})),a=en.lastIndex;return a<t.length&&(r=t.slice(a),o[s]?o[s]+=r:o[++s]=r),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)o[(n=l[i]).i]=n.x(e);return o.join("")})}function nn(e,t){var n;return("number"==typeof t?et:t instanceof It?Kt:(n=It(t))?(t=n,Kt):tn)(e,t)}function rn(e){return function(){this.removeAttribute(e)}}function an(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sn(e,t,n){var i,r,a=n+"";return function(){var s=this.getAttribute(e);return s===a?null:s===i?r:r=t(i=s,n)}}function on(e,t,n){var i,r,a=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===i?r:r=t(i=s,n)}}function ln(e,t,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=t(i=s,l));this.removeAttribute(e)}}function cn(e,t,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=t(i=s,l));this.removeAttributeNS(e.space,e.local)}}function un(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function dn(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function hn(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&dn(e,r)),n}return r._value=t,r}function fn(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&un(e,r)),n}return r._value=t,r}function pn(e,t){return function(){Je(this,e).delay=+t.apply(this,arguments)}}function bn(e,t){return t=+t,function(){Je(this,e).delay=t}}function mn(e,t){return function(){Qe(this,e).duration=+t.apply(this,arguments)}}function gn(e,t){return t=+t,function(){Qe(this,e).duration=t}}function _n(e,t){if("function"!=typeof t)throw new Error;return function(){Qe(this,e).ease=t}}function vn(e,t,n){var i,r,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Je:Qe;return function(){var s=a(this,e),o=s.on;o!==i&&(r=(i=o).copy()).on(t,n),s.on=r}}var yn=xe.prototype.constructor;function wn(e){return function(){this.style.removeProperty(e)}}function xn(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function kn(e,t,n){var i,r;function a(){var a=t.apply(this,arguments);return a!==r&&(i=(r=a)&&xn(e,a,n)),i}return a._value=t,a}function En(e){return function(t){this.textContent=e.call(this,t)}}function Mn(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&En(i)),t}return i._value=e,i}var An=0;function Cn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Sn(){return++An}var In=xe.prototype;Cn.prototype=function(e){return xe().transition(e)}.prototype={constructor:Cn,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=c(e));for(var i=this._groups,r=i.length,a=new Array(r),s=0;s<r;++s)for(var o,l,u=i[s],d=u.length,h=a[s]=new Array(d),f=0;f<d;++f)(o=u[f])&&(l=e.call(o,o.__data__,f,u))&&("__data__"in o&&(l.__data__=o.__data__),h[f]=l,Ke(h[f],t,n,f,h,Ze(o,n)));return new Cn(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=h(e));for(var i=this._groups,r=i.length,a=[],s=[],o=0;o<r;++o)for(var l,c=i[o],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var f,p=e.call(l,l.__data__,d,c),b=Ze(l,n),m=0,g=p.length;m<g;++m)(f=p[m])&&Ke(f,t,n,m,p,b);a.push(p),s.push(l)}return new Cn(a,s,t,n)},selectChild:In.selectChild,selectChildren:In.selectChildren,filter:function(e){"function"!=typeof e&&(e=f(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a,s=t[r],o=s.length,l=i[r]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new Cn(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,a=Math.min(i,r),s=new Array(i),o=0;o<a;++o)for(var l,c=t[o],u=n[o],d=c.length,h=s[o]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;o<i;++o)s[o]=t[o];return new Cn(s,this._parents,this._name,this._id)},selection:function(){return new yn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Sn(),i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],l=o.length,c=0;c<l;++c)if(s=o[c]){var u=Ze(s,t);Ke(s,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Cn(i,this._parents,e,n)},call:In.call,nodes:In.nodes,node:In.node,size:In.size,empty:In.empty,each:In.each,on:function(e,t){var n=this._id;return arguments.length<2?Ze(this.node(),n).on.on(e):this.each(vn(n,e,t))},attr:function(e,t){var n=I(e),i="transform"===n?ot:nn;return this.attrTween(e,"function"==typeof t?(n.local?cn:ln)(n,i,ut(this,"attr."+e,t)):null==t?(n.local?an:rn)(n):(n.local?on:sn)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=I(e);return this.tween(n,(i.local?hn:fn)(i,t))},style:function(e,t,n){var i="transform"==(e+="")?st:nn;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var a=q(this,e),s=(this.style.removeProperty(e),q(this,e));return a===s?null:a===n&&s===i?r:r=t(n=a,i=s)}}(e,i)).on("end.style."+e,wn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,a;return function(){var s=q(this,e),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(e),l=o=q(this,e)),s===l?null:s===i&&l===r?a:(r=l,a=t(i=s,o))}}(e,i,ut(this,"style."+e,t))).each(function(e,t){var n,i,r,a,s="style."+t,o="end."+s;return function(){var l=Qe(this,e),c=l.on,u=null==l.value[s]?a||(a=wn(t)):void 0;c===n&&r===u||(i=(n=c).copy()).on(o,r=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,a=n+"";return function(){var s=q(this,e);return s===a?null:s===i?r:r=t(i=s,n)}}(e,i,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,kn(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(ut(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Mn(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=Ze(this.node(),n).tween,a=0,s=r.length;a<s;++a)if((i=r[a]).name===e)return i.value;return null}return this.each((null==t?lt:ct)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?pn:bn)(t,e)):Ze(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?mn:gn)(t,e)):Ze(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(_n(t,e)):Ze(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Qe(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(a,s){var o={value:s},l={value:function(){0==--r&&a()}};n.each((function(){var n=Qe(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),n.on=t})),0===r&&a()}))},[Symbol.iterator]:In[Symbol.iterator]};var Ln={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function On(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}xe.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,i,r,a=e.__transition,s=!0;if(a){for(r in t=null==t?null:t+"",a)(n=a[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[r]):s=!1;s&&delete e.__transition}}(this,e)}))},xe.prototype.transition=function(e){var t,n;e instanceof Cn?(t=e._id,e=e._name):(t=Sn(),(n=Ln).time=qe(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],l=o.length,c=0;c<l;++c)(s=o[c])&&Ke(s,e,t,c,o,n||On(s,t));return new Cn(i,this._parents,e,t)};const{abs:Nn,max:Dn,min:Tn}=Math;function Hn(e){return{type:e}}function Rn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Pn(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}["w","e"].map(Hn),["n","s"].map(Hn),["n","w","e","s","nw","ne","sw","se"].map(Hn);const $n=Symbol("implicit");function Bn(){var t=new e,n=[],i=[],r=$n;function a(e){let a=t.get(e);if(void 0===a){if(r!==$n)return r;t.set(e,a=n.push(e)-1)}return i[a%i.length]}return a.domain=function(i){if(!arguments.length)return n.slice();n=[],t=new e;for(const e of i)t.has(e)||t.set(e,n.push(e)-1);return a},a.range=function(e){return arguments.length?(i=Array.from(e),a):i.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return Bn(n,i).unknown(r)},Rn.apply(a,arguments),a}function qn(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,a=new Array(r),s=new Array(i);for(n=0;n<r;++n)a[n]=jn(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<r;++n)s[n]=a[n](e);return s}}function Un(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function zn(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=jn(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}function Fn(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(a){for(n=0;n<i;++n)r[n]=e[n]*(1-a)+t[n]*a;return r}}function jn(e,t){var n,i,r=typeof t;return null==t||"boolean"===r?Xt(t):("number"===r?et:"string"===r?(n=It(t))?(t=n,Kt):tn:t instanceof It?Kt:t instanceof Date?Un:(i=t,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(t)?qn:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?zn:et:Fn))(e,t)}function Wn(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Vn(e){return e}var Xn=Math.sqrt(50),Gn=Math.sqrt(10),Yn=Math.sqrt(2);function Kn(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=Xn?10:a>=Gn?5:a>=Yn?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=Xn?10:a>=Gn?5:a>=Yn?2:1)}var Jn,Qn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zn(e){if(!(t=Qn.exec(e)))throw new Error("invalid format: "+e);var t;return new ei({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ei(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ti(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function ni(e){return(e=ti(Math.abs(e)))?e[1]:NaN}function ii(e,t){var n=ti(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Zn.prototype=ei.prototype,ei.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ri={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ii(100*e,t),r:ii,s:function(e,t){var n=ti(e,t);if(!n)return e+"";var i=n[0],r=n[1],a=r-(Jn=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+ti(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ai(e){return e}var si,oi,li,ci=Array.prototype.map,ui=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function di(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var i,r,a,s,o=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(s=Kn(e,t,n))||!isFinite(s))return[];if(s>0){let n=Math.round(e/s),i=Math.round(t/s);for(n*s<e&&++n,i*s>t&&--i,a=new Array(r=i-n+1);++o<r;)a[o]=(n+o)*s}else{s=-s;let n=Math.round(e*s),i=Math.round(t*s);for(n/s<e&&++n,i/s>t&&--i,a=new Array(r=i-n+1);++o<r;)a[o]=(n+o)/s}return i&&a.reverse(),a}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return function(e,t,n,i){var r,a=function(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=Xn?r*=10:a>=Gn?r*=5:a>=Yn&&(r*=2),t<e?-r:r}(e,t,n);switch((i=Zn(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ni(t)/3)))-ni(Math.abs(e)))}(a,s))||(i.precision=r),li(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ni(t)-ni(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-ni(Math.abs(e)))}(a))||(i.precision=r-2*("%"===i.type))}return oi(i)}(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(r=l,l=c,c=r,r=s,s=o,o=r);u-- >0;){if((r=Kn(l,c,n))===i)return a[s]=l,a[o]=c,t(a);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return e},e}function hi(){var e,t,n,i,r,a=0,s=1,o=Vn,l=!1;function c(t){return null==t||isNaN(t=+t)?r:o(0===n?.5:(t=(i(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,i;return arguments.length?([n,i]=t,o=e(n,i),c):[o(0),o(1)]}}return c.domain=function(r){return arguments.length?([a,s]=r,e=i(a=+a),t=i(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(jn),c.rangeRound=u(Wn),c.unknown=function(e){return arguments.length?(r=e,c):r},function(r){return i=r,e=r(a),t=r(s),n=e===t?0:1/(t-e),c}}function fi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pi(){var e=di(hi()(Vn));return e.copy=function(){return fi(e,pi())},Pn.apply(e,arguments)}function bi(e){return"string"==typeof e?new ye([[document.querySelector(e)]],[document.documentElement]):new ye([[e]],ve)}function mi(e,t,n){this.k=e,this.x=t,this.y=n}function gi(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}si=function(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?ai:(t=ci.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,a=[],s=0,o=t[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),a.push(e.substring(r-=o,r+o)),!((l+=o+1)>i));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?ai:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ci.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Zn(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,b=e.comma,m=e.precision,g=e.trim,_=e.type;"n"===_?(b=!0,_="g"):ri[_]||(void 0===m&&(m=12),g=!0,_="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var v="$"===h?r:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",y="$"===h?a:/[%p]/.test(_)?l:"",w=ri[_],x=/[defgprs%]/.test(_);function k(e){var r,a,l,h=v,k=y;if("c"===_)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===_?ui[8+Jn/3]:"")+k+(E&&"("===d?")":""),x)for(r=-1,a=e.length;++r<a;)if(48>(l=e.charCodeAt(r))||l>57){k=(46===l?s+e.slice(r+1):e.slice(r))+k,e=e.slice(0,r);break}}b&&!f&&(e=i(e,1/0));var M=h.length+e.length+k.length,A=M<p?new Array(p-M+1).join(t):"";switch(b&&f&&(e=i(A+e,A.length?p-k.length:1/0),A=""),n){case"<":e=h+e+k+A;break;case"=":e=h+A+e+k;break;case"^":e=A.slice(0,M=A.length>>1)+h+e+k+A.slice(M);break;default:e=A+h+e+k}return o(e)}return m=void 0===m?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=Zn(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(ni(t)/3))),r=Math.pow(10,-i),a=ui[8+i/3];return function(e){return n(r*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),oi=si.format,li=si.formatPrefix,mi.prototype={constructor:mi,scale:function(e){return 1===e?this:new mi(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new mi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new mi(1,0,0),mi.prototype;const _i=gi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),vi=gi("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),yi=gi("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),wi=gi("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),xi=gi("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ki=gi("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ei=e=>Qt(e[e.length-1]),Mi=Ei(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(gi)),Ai=Ei(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(gi)),Ci=Math.PI/180,Si=180/Math.PI;var Ii=-.14861,Li=1.78277,Oi=-.29227,Ni=-.90649,Di=1.97294,Ti=Di*Ni,Hi=Di*Li,Ri=Li*Oi-Ni*Ii;function Pi(e){if(e instanceof Bi)return new Bi(e.h,e.s,e.l,e.opacity);e instanceof Tt||(e=Nt(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(Ri*i+Ti*t-Hi*n)/(Ri+Ti-Hi),a=i-r,s=(Di*(n-r)-Oi*a)/Ni,o=Math.sqrt(s*s+a*a)/(Di*r*(1-r)),l=o?Math.atan2(s,a)*Si-120:NaN;return new Bi(l<0?l+360:l,o,r,e.opacity)}function $i(e,t,n,i){return 1===arguments.length?Pi(e):new Bi(e,t,n,null==i?1:i)}function Bi(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function qi(e){return function t(n){function i(t,i){var r=e((t=$i(t)).h,(i=$i(i)).h),a=Yt(t.s,i.s),s=Yt(t.l,i.l),o=Yt(t.opacity,i.opacity);return function(e){return t.h=r(e),t.s=a(e),t.l=s(Math.pow(e,n)),t.opacity=o(e),t+""}}return n=+n,i.gamma=t,i}(1)}dt(Bi,$i,ht(ft,{brighter(e){return e=null==e?bt:Math.pow(bt,e),new Bi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?pt:Math.pow(pt,e),new Bi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Ci,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new Tt(255*(t+n*(Ii*i+Li*r)),255*(t+n*(Oi*i+Ni*r)),255*(t+n*(Di*i)),this.opacity)}})),qi((function(e,t){var n=t-e;return n?Gt(e,n>180||n<-180?n-360*Math.round(n/360):n):Xt(isNaN(e)?t:e)}));var Ui=qi(Yt),zi=(Ui($i(-100,.75,.35),$i(80,1.5,.8)),Ui($i(260,.75,.35),$i(80,1.5,.8)));$i();const Fi=Ei(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(gi));function ji(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}const Wi=Ei(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(gi)),Vi=Ei(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(gi));function Xi(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Xi(gi("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Gi=Xi(gi("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Xi(gi("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Xi(gi("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Yi=Ei(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(gi)),Ki=Ei(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(gi)),Ji=Ei(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(gi));var Qi=n(6929),Zi=n.n(Qi),er=n(2687),tr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},nr=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),ir=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n};var rr={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function ar(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}var sr=function(){function e(t,n,i,r){tr(this,e);var a=this;if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===i){var s=t&&""+t;s&&function(t){if(t.startsWith("hsl")){var n=t.match(/([\-\d\.e]+)/g).map(Number),i=ir(n,4),r=i[0],s=i[1],o=i[2],l=i[3];void 0===l&&(l=1),r/=360,s/=100,o/=100,a.hsla=[r,s,o,l]}else if(t.startsWith("rgb")){var c=t.match(/([\-\d\.e]+)/g).map(Number),u=ir(c,4),d=u[0],h=u[1],f=u[2],p=u[3];void 0===p&&(p=1),a.rgba=[d,h,f,p]}else t.startsWith("#")?a.rgba=e.hexToRgb(t):a.rgba=e.nameToRgb(t)||e.hexToRgb(t)}(s.toLowerCase())}else this.rgba=[t,n,i,void 0===r?1:r]}return nr(e,[{key:"printRGB",value:function(e){var t=(e?this.rgba:this.rgba.slice(0,3)).map((function(e,t){return ar(e,3===t?3:0)}));return e?"rgba("+t+")":"rgb("+t+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],n=["","%","%",""],i=(e?this.hsla:this.hsla.slice(0,3)).map((function(e,i){return ar(e*t[i],3===i?3:1)+n[i]}));return e?"hsla("+i+")":"hsl("+i+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=e.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=e.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map((function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)})).map((function(e){return e.padStart(2,"0")})).join("")},set:function(t){this.rgba=e.hexToRgb(t)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var n=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(e){return parseInt(e,16)}));return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(t){var n=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),i=rr[n];return void 0===i?i:e.hexToRgb(i.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=ir(e,4),n=t[0],i=t[1],r=t[2],a=t[3];n/=255,i/=255,r/=255;var s=Math.max(n,i,r),o=Math.min(n,i,r),l=void 0,c=void 0,u=(s+o)/2;if(s===o)l=c=0;else{var d=s-o;switch(c=u>.5?d/(2-s-o):d/(s+o),s){case n:l=(i-r)/d+(i<r?6:0);break;case i:l=(r-n)/d+2;break;case r:l=(n-i)/d+4}l/=6}return[l,c,u,a]}},{key:"hslToRgb",value:function(e){var t=ir(e,4),n=t[0],i=t[1],r=t[2],a=t[3],s=void 0,o=void 0,l=void 0;if(0===i)s=o=l=r;else{var c=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},u=r<.5?r*(1+i):r+i-r*i,d=2*r-u;s=c(d,u,n+1/3),o=c(d,u,n),l=c(d,u,n-1/3)}var h=[255*s,255*o,255*l].map(Math.round);return h[3]=a,h}}]),e}(),or=function(){function e(){tr(this,e),this._events=[]}return nr(e,[{key:"add",value:function(e,t,n){e.addEventListener(t,n,!1),this._events.push({target:e,type:t,handler:n})}},{key:"remove",value:function(t,n,i){this._events=this._events.filter((function(r){var a=!0;return t&&t!==r.target&&(a=!1),n&&n!==r.type&&(a=!1),i&&i!==r.handler&&(a=!1),a&&e._doRemove(r.target,r.type,r.handler),!a}))}},{key:"destroy",value:function(){this._events.forEach((function(t){return e._doRemove(t.target,t.type,t.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(e,t,n){e.removeEventListener(t,n,!1)}}]),e}();function lr(e,t,n){var i=!1;function r(e,t,n){return Math.max(t,Math.min(e,n))}function a(e,a,s){if(s&&(i=!0),i){e.preventDefault();var o=t.getBoundingClientRect(),l=o.width,c=o.height,u=a.clientX,d=a.clientY,h=r(u-o.left,0,l),f=r(d-o.top,0,c);n(h/l,f/c)}}function s(e,t){1===(void 0===e.buttons?e.which:e.buttons)?a(e,e,t):i=!1}function o(e,t){1===e.touches.length?a(e,e.touches[0],t):i=!1}e.add(t,"mousedown",(function(e){s(e,!0)})),e.add(t,"touchstart",(function(e){o(e,!0)})),e.add(window,"mousemove",s),e.add(t,"touchmove",o),e.add(window,"mouseup",(function(e){i=!1})),e.add(t,"touchend",(function(e){i=!1})),e.add(t,"touchcancel",(function(e){i=!1}))}var cr="keydown",ur="mousedown",dr="focusin";function hr(e,t){return(t||document).querySelector(e)}function fr(e){e.preventDefault(),e.stopPropagation()}function pr(e,t,n,i,r){e.add(t,cr,(function(e){n.indexOf(e.key)>=0&&(r&&fr(e),i(e))}))}var br=function(){function e(t){tr(this,e),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new or,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return nr(e,[{key:"setOptions",value:function(e){var t=this;if(e){var n=this.settings;if(e instanceof HTMLElement)n.parent=e;else{n.parent&&e.parent&&n.parent!==e.parent&&(this._events.remove(n.parent),this._popupInited=!1),function(e,t,n){for(var i in e)t[i]=e[i]}(e,n),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var i=e.color||e.colour;i&&this._setColor(i)}var r=n.parent;if(r&&n.popup&&!this._popupInited){var a=function(e){return t.openHandler(e)};this._events.add(r,"click",a),pr(this._events,r,[" ","Spacebar","Enter"],a),this._popupInited=!0}else e.parent&&!n.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var t=e&&e.type===cr?this._domEdit:this.domElement;setTimeout((function(){return t.focus()}),100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var t=e&&e.type,n=!1;if(e)if(t===ur||t===dr){var i=(this.__containedEvent||0)+100;e.timeStamp>i&&(n=!0)}else fr(e),n=!0;else n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="",t!==ur&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t})}},{key:"_setColor",value:function(e,t){if("string"==typeof e&&(e=e.trim()),e){t=t||{};var n=void 0;try{n=new sr(e)}catch(e){if(t.failSilently)return;throw e}if(!this.settings.alpha){var i=n.hsla;i[3]=1,n.hsla=i}this.colour=this.color=n,this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(e,t){this.setColor(e,t)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t,n,i=(t=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',(n=document.createElement("div")).innerHTML=t,n.firstElementChild);return this.domElement=i,this._domH=hr(".picker_hue",i),this._domSL=hr(".picker_sl",i),this._domA=hr(".picker_alpha",i),this._domEdit=hr(".picker_editor input",i),this._domSample=hr(".picker_sample",i),this._domOkay=hr(".picker_done button",i),this._domCancel=hr(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup((function(){return i.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,t=this,n=this.domElement,i=this._events;function r(e,t,n){i.add(e,t,n)}r(n,"click",(function(e){return e.preventDefault()})),lr(i,this._domH,(function(e,n){return t._setHSLA(e)})),lr(i,this._domSL,(function(e,n){return t._setHSLA(null,e,1-n)})),this.settings.alpha&&lr(i,this._domA,(function(e,n){return t._setHSLA(null,null,null,1-n)}));var a=this._domEdit;r(a,"input",(function(e){t._setColor(this.value,{fromEditor:!0,failSilently:!0})})),r(a,"focus",(function(e){var t=this;t.selectionStart===t.selectionEnd&&t.select()})),this._ifPopup((function(){var t=function(t){return e.closeHandler(t)};r(window,ur,t),r(window,dr,t),pr(i,n,["Esc","Escape"],t);var a=function(t){e.__containedEvent=t.timeStamp};r(n,ur,a),r(n,dr,a),r(e._domCancel,"click",t)}));var s=function(t){e._ifPopup((function(){return e.closeHandler(t)})),e.onDone&&e.onDone(e.colour)};r(this._domOkay,"click",s),pr(i,n,["Enter"],s)}},{key:"_setPosition",value:function(){var e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup((function(n){"static"===getComputedStyle(e).position&&(e.style.position="relative");var i=!0===n?"popup_right":"popup_"+n;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(e){e===i?t.classList.add(e):t.classList.remove(e)})),t.classList.add(i)}))}},{key:"_setHSLA",value:function(e,t,n,i,r){r=r||{};var a=this.colour,s=a.hsla;[e,t,n,i].forEach((function(e,t){(e||0===e)&&(s[t]=e)})),a.hsla=s,this._updateUI(r),this.onChange&&!r.silent&&this.onChange(a)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var t=this.colour,n=t.hsla,i="hsl("+360*n[0]+", 100%, 50%)",r=t.hslString,a=t.hslaString,s=this._domH,o=this._domSL,l=this._domA,c=hr(".picker_selector",s),u=hr(".picker_selector",o),d=hr(".picker_selector",l);_(0,c,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,_(0,u,n[1]),v(0,u,1-n[2]),o.style.color=r,v(0,d,1-n[3]);var h=r,f=h.replace("hsl","hsla").replace(")",", 0)"),p="linear-gradient("+[h,f]+")";if(this._domA.style.background=p+", linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",!e.fromEditor){var b=this.settings.editorFormat,m=this.settings.alpha,g=void 0;switch(b){case"rgb":g=t.printRGB(m);break;case"hsl":g=t.printHSL(m);break;default:g=t.printHex(m)}this._domEdit.value=g}this._domSample.style.color=a}function _(e,t,n){t.style.left=100*n+"%"}function v(e,t,n){t.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return!1;var n=e?"":"none",i=t.style.display!==n;return i&&(t.style.display=n),i}}]),e}(),mr=document.createElement("style");mr.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(mr),br.StyleElement=mr;var gr=n(3805),_r=n.n(gr);let vr=null;class yr{constructor(e,t){this.ele=e,this._settings={byJson:{data:null,selectedIndex:0,name:null,size:0,multiple:!1,width:250},mainCss:"ms-dd",rowHeight:null,visibleRows:null,showIcon:!0,zIndex:9999,event:"click",style:"",childWidth:null,childHeight:null,enableCheckbox:!1,checkboxNameSuffix:"_mscheck",showPlusItemCounter:!0,enableAutoFilter:!0,showFilterAlways:!1,showListCounter:!1,imagePosition:"left",errorMessage:"Please select an item from this list",on:{create:null,open:null,close:null,add:null,remove:null,change:null,blur:null,click:null,dblclick:null,mousemove:null,mouseover:null,mouseout:null,focus:null,mousedown:null,mouseup:null},...t},this._css={},this._onDocumentClick=null,this._onDocumentKeyDown=null,this._onDocumentKeyUp=null,this._isOpen=!1,this._DOWN_ARROW=40,this._UP_ARROW=38,this._LEFT_ARROW=37,this._RIGHT_ARROW=39,this._ESCAPE=27,this._ENTER=13,this._ALPHABETS_START=47,this._SHIFT=16,this._CONTROL=17,this._MAC_CONTROL=91,this._BACKSPACE=8,this._DELETE=46,this._SPACE=32,this._shiftHolded=!1,this._controlHolded=!1,this._isFirstTime=!0,this._cacheEle={},this._isMouseDown=!1,this._itemsArr=[],this._css={dd:this._settings.mainCss+" ms-pr",wrapperDisabled:"disabled",headerA:"ms-list-option option-selected",header:"ms-dd-header",headerMiddleContent:"ms-header-middle-content",arrow:"ms-dd-arrow",arrowDown:"ms-dd-pointer-down",arrowUp:"ms-dd-pointer-up",headerCounter:"ms-header-counter",listOfItems:"ms-options",itemContent:"ms-dd-option-content",item:"ms-list-option",itemSpan:"ms-middle",itemSpanOpt:"ms-optgroup-padding",itemLabel:"ms-dd-label",itemImage:"ms-dd-option-image",itemDesc:"ms-dd-desc",itemSelected:"option-selected",itemDisabled:"disabled",itemEnabled:"enabled",optgroup:"ms-optgroup",listCounter:"ms-list-counter",valueInput:"ms-value-input",checkbox:"ms-checkbox",imageRight:"ico-align-right"},this._wrapper={},this._createByJson(),this._checkDataSettings(),this._isList=this.ele.size>1,this._isMultiple=this.ele.multiple,this._enableCheckbox=this._settings.enableCheckbox,(this._isList||"true"===this._enableCheckbox.toString())&&(this._isMultiple=this.ele.multiple=!0),this._isFilterApplied=!1,this._nexPrevCounter=0,this._init()}_init(){this._makeLayout(),this._updateUiAndValueByIndex(this.selectedIndex),this.ele.size>1&&(this._makeUiAsList(!0,this.ele.size),this._scrollToItem()),null!==this._settings.childWidth&&(this._wrapper.listOfItems.style.width=this._settings.childWidth),this._showHideOriginal(!1),"true"===this._settings.showFilterAlways.toString()&&(this._settings.enableAutoFilter=!0,this._showHideFilterBox(!0)),this.ele.autofocus?(this._wrapper.holder.focus(),this._wrapper.filterInput.focus()):this._wrapper.filterInput.blur(),this.updateUiAndValue(),this._fireLocalEventIfExist("create"),this._fireEventIfExist("onCreate")}_showHideOriginal(e=!0){e?this._show(this.ele):this._hide(this.ele)}_checkDataSettings(){let e=this._getDataSet(this.ele),t=this._settings;t.mainCss=e?.mainCss||t.mainCss,t.showIcon=e?.showIcon||t.showIcon,t.event=e?.event||t.event,t.childWidth=e?.childWidth||t.childWidth,t.childHeight=e?.childHeight||t.childHeight,t.enableCheckbox=e?.enableCheckbox||t.enableCheckbox,t.checkboxNameSuffix=e?.checkboxNameSuffix||t.checkboxNameSuffix,t.enableAutoFilter=e?.enableAutoFilter||t.enableAutoFilter,t.visibleRows=e?.visibleRows||t.visibleRows,t.showPlusItemCounter=e?.showPlusItemCounter||t.showPlusItemCounter,t.errorMessage=e?.errorMessage||t.errorMessage,t.showFilterAlways=e?.showFilterAlways||t.showFilterAlways,t.showListCounter=e?.showListCounter||t.showListCounter,t.imagePosition=e?.imagePosition||t.imagePosition,this._settings={...this._settings,...t}}setSettingAttribute(e,t){this._settings[e]=t}_createByJson(){if(this._settings.byJson.data)try{let e=this._settings.byJson,t={};t.name=e.name||this.ele.id||"",e.size>0&&(t.size=e.size),e.multiple&&(t.multiple=e.multiple);let n=this._createEle("select",t),i=e.data.length;for(let t=0;t<i;t++){let i=e.data[t],r=new Option(i.text,i.value);i.disabled&&(r.disabled=!0);for(let e in i)if(i.hasOwnProperty(e)&&"text"!==e.toLowerCase()){let t=`data-${e}`;t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r.setAttribute(t,i[e])}n.options[t]=r}this.ele.appendChild(n),n.selectedIndex=e.selectedIndex,e.width&&(this.ele.style.width=e.width+"px"),this.ele=n}catch(e){throw"There is an error in json data."}}_scrollToItem(e,t="smooth"){(e=e||this.uiData.ui)&&(e=e.length>1?e[0]:e,this._scrollToIfNeeded(e))}_showHideFilterBox(e=!0){e?(this._show(this._wrapper.filterHolder),this._wrapper.filterInput.focus(),"false"===this._settings.showFilterAlways.toString()&&this._hide(this._wrapper.headerA)):(this._wrapper.filterInput.value="",this._hide(this._wrapper.filterHolder),this._show(this._wrapper.headerA))}_applyFilters(e){let t=this._wrapper.filterInput.value;if(0===t.length)this._show(this._wrapper.headerA),this._makeChildren(),this._isFilterApplied=!1;else{"false"===this._settings.showFilterAlways.toString()&&this._hide(this._wrapper.headerA),this._isOpen||this.open(null);let e=[...this.options].filter((function(e){return"OPTGROUP"!==e.nodeName&&!1===e.disabled&&e.text.toLowerCase().indexOf(t.toLowerCase())>=0}));this._makeChildren(e),this._isFilterApplied=!0,this._nexPrevCounter=-1,this._scrollToIfNeeded(null,0)}}_makeFilterBox(){let e=this._createEle("div",{className:"ms-filter-box"}),t=this._createEle("input",{type:"text"});return e.appendChild(t),this._wrapper.filterInput=t,this._wrapper.filterHolder=e,this._bindEvents(t,"input",(e=>{this._applyFilters(e)})),e}_makeHeader(){let e=this._css,t=this._createEle("div",{className:e.header}),n=this._createEle("a",{className:e.headerA}),i=this._createEle("span",{className:e.headerMiddleContent}),r=this._createEle("span",{className:e.arrow+" "+e.arrowDown});return n.appendChild(r),n.appendChild(i),t.appendChild(n),this._wrapper.header=t,this._wrapper.headerA=n,this._wrapper.headerContent=i,this._wrapper.arrow=r,"left"!==this._settings.imagePosition&&n.classList.add(e.imageRight),this._bindEvents(t,this._settings.event,(e=>{this.open(e)})),t}_makeChildren(e=null){let t,n=this._css,i="true"===this._enableCheckbox.toString(),r=this,a=function(e,t){let a={};return a=r._parseOption(e),{opt:a,itemObj:{label:{text:a.text,css:n.itemLabel},img:{src:a.image,css:n.itemImage},desc:{text:a.description,css:n.itemDesc},isDisabled:e.disabled||!1,isSelected:e.selected||!1,isCheckbox:i,value:a.value,title:a.title,imageCss:`${a.imageCss} ${a.className}`,counter:t+1,isOptGroup:"OPTGROUP"===e.nodeName,innerSpanCss:n.itemContent}}},s=function(e,t){t.isDisabled||(r._bindEvents(e,"mouseup",(e=>{r._isMouseDown=!1,i&&"INPUT"===e.target.nodeName||r._isList||r.close(e)})),r._bindEvents(e,"mousedown",(t=>{if(r._isMouseDown=!0,i&&"INPUT"===t.target.nodeName)r._setSelectedByItemToggle(e._refCheckbox,e);else if(r._shiftHolded&&r._isMultiple){let t=r.selectedIndex,n=e.index;r._setSelectedByIndexFromTo(t,n)}else r._controlHolded&&r._isMultiple?r._setSelectedByItem(e,!1,!1):r._setSelectedByItem(e)})),r._bindEvents(e,"mouseover",(t=>{r._isMouseDown&&r._isMultiple&&r._setSelectedByItem(e,!1,!1)})))};this._wrapper.listOfItems?t=this._wrapper.listOfItems:(t=this._createEle("ul",{className:n.listOfItems,zIndex:this._settings.zIndex}),this._wrapper.listOfItems=t),t.innerHTML="";let o=null===e?this.ele.children:e,l=o.length;for(let e=0;e<l;e++){let i=o[e],r=a(i,e),l=r.opt,c=r.itemObj,u=this._createRow(c);if(""!==l.className&&(u.className=u.className+" "+l.className),""!==l.internalStyle&&(u.style=l.internalStyle),u.index=l.index,u.setAttribute("data-ms-index",l.index),c.isOptGroup){let e=i.children,t=e.length,r=this._createEle("ul");for(let i=0;i<t;i++){let t=a(e[i],i),o=t.opt,l=t.itemObj,c=this._createRow(l);""!==o.className&&(c.className=c.className+" "+o.className),""!==o.internalStyle&&(c.style=o.internalStyle),c.index=o.index,c.setAttribute("data-ms-index",o.index),l.isSelected&&this._setSelectedByItem(c,!0),s(c,l),"left"!==this._settings.imagePosition&&c.classList.add(n.imageRight),r.appendChild(c)}u.appendChild(r)}c.isOptGroup||s(u,c),"left"!==this._settings.imagePosition&&u.classList.add(n.imageRight),t.appendChild(u),c.isSelected&&this._setSelectedByItem(u,!0)}return null!==this._settings.childHeight&&(t.style.maxHeight=this._settings.childHeight+"px"),t}_makeLayout(){this.ele.tabIndex=-1;let e=this._css,t=this._createEle("div",{tabIndex:0,className:e.dd}),n=this.ele.name,i=this.ele.required,r=this._createEle("input",{tabIndex:-1,name:n,type:"text",className:this._css.valueInput,required:i});t.appendChild(r),this.ele.required=!1,this.ele.name="";let a=this._createEle("div",{className:"more",style:"display:none"});t.appendChild(a),this._wrapper.valueBox=r,this._wrapper.moreValueBox=a;let s=this._makeHeader(),o=this._makeFilterBox();s.appendChild(o),this._showHideFilterBox(!1);let l=this._makeChildren();t.appendChild(s),t.appendChild(l),this._wrapper.holder=t,this._insertAfter(t,this.ele),this._hide(l),this.disabled&&t.classList.add(e.wrapperDisabled);let c=this._getInternalStyle(this.ele);t.setAttribute("style",c),null!==this._settings.byJson.data&&t.setAttribute("style",`width:${this._settings.byJson.width}px`);let u=this._createEle("div",{style:"clear:both"});t.appendChild(u),this._bindEvents(this._wrapper.holder,"focus",(e=>{this._isList?this._bindDocumentEvents(null,!1,!0):(vr&&(vr.close(null),vr=null),this._bindDocumentEvents(null,!0,!0),vr=this),this._fireLocalEventIfExist("focus"),this._fireEventIfExist("focus")})),this._bindEvents(this._wrapper.holder,"blur",(e=>{this._isList&&this._unbindDocumentEvents(),this._fireLocalEventIfExist("blur"),this._fireEventIfExist("blur")})),this._bindEvents(this._wrapper.holder,"dblclick",(e=>{this._fireLocalEventIfExist("blur"),this._fireEventIfExist("blur")})),this._bindEvents(r,"invalid",(e=>{e.target.setCustomValidity(""),e.target.validity.valid||e.target.setCustomValidity(this._settings.errorMessage)})),this._bindEvents(r,"input",(e=>{e.target.setCustomValidity("")}));let d=["click","dblclick","mousemove","mouseover","mouseout","mousedown","mouseup"];for(let e=0,t=d.length;e<t;e++){let t=d[e];this._bindEvents(this._wrapper.holder,t,(e=>{this._fireLocalEventIfExist(t),this._fireEventIfExist(t)}))}return t}_createRow(e){let t=e.isOptGroup?this._css.optgroup:this._css.item,n=this._createEle("li",{className:t});if(e.isCheckbox&&!e.isOptGroup){let t=this._createEle("input",{tabIndex:-1,className:this._css.checkbox,type:"checkbox",disabled:e.isDisabled,checked:!1,value:e.value,name:this._wrapper.valueBox.name+this._settings.checkboxNameSuffix+"[]"});n.appendChild(t),n._refCheckbox=t}let i=e.isOptGroup?" "+this._css.itemSpanOpt:"",r=this._createEle("span",{className:this._css.itemSpan+i}),a="true"===this._settings.showListCounter.toString()?`<span class='${this._css.listCounter}'>${e.counter}</span> ${e.label.text}`:e.label.text,s=this._createEle("span",{className:e.label.css},a),o=this._createEle("span",{className:e.innerSpanCss});if(o.appendChild(s),null!==e.img.src){let t=this._createEle("img",{className:e.img.css,src:e.img.src});r.appendChild(t)}if(null===e.img.src&&""!==e.imageCss.replace(/\s/g,"")){let t=this._createEle("span",{className:e.img.css+" "+e.imageCss},"&nbsp;");r.appendChild(t)}if(null!==e.desc.text){let t=this._createEle("span",{className:e.desc.css},e.desc.text);o.appendChild(t)}return r.appendChild(o),n.appendChild(r),e.isDisabled?n.classList.add(this._css.itemDisabled):e.isOptGroup||n.classList.add(this._css.itemEnabled),""!==e.title&&(n.title=e.title),n}_parseOption(e){let t,n,i,r=null,a="",s="",o="",l="",c="",u="",d=-1;if(void 0!==e){let h=e.nodeName,f=e.dataset;"OPTGROUP"===h?l=e.label:(l=e.text,o=e.value||l),d=e.index,t=e.selected,n=e.disabled,c=e.className||"",a=f.title||"",s=f.description||"",r=f.image||r,u=f.imageCss||"",i=this._getInternalStyle(e)}return{image:r,title:a,description:s,value:o,text:l,className:c,imageCss:u,index:d,selected:t,disabled:n,internalStyle:i}}_removeOldSelected(){let e=this._getAllEle("ul li."+this._css.itemSelected,this._wrapper.holder);for(let t=0;t<e.length;t++)e[t].classList.remove(this._css.itemSelected),this._isMultiple&&"true"===this._enableCheckbox.toString()&&(e[t]._refCheckbox.checked=!1)}_setSelectedByIndexFromTo(e,t){let n=Math.min(e,t),i=Math.max(e,t),r=this.optionsUI;for(let e=n;e<=i;e++)this._setSelectedByItem(r[e],!1,!1)}_setSelectedByItemToggle(e,t){let n=!e.checked,i=t.index;n?(t.classList.add(this._css.itemSelected),this.ele.options[i].selected=!0):(t.classList.remove(this._css.itemSelected),this.ele.options[i].selected=!1),this.updateUiAndValue()}_setSelectedByItem(e,t=!1,n=!0){if(t&&e)e.classList.add(this._css.itemSelected);else{let t=e.index;!0===n?(this._removeOldSelected(),this.ele.selectedIndex=t):this.ele.options[t].selected=!0,e?.classList?.add(this._css.itemSelected),this.updateUiAndValue()}"true"===this._enableCheckbox.toString()&&e?._refCheckbox&&(e._refCheckbox.checked=!0),!1===this._isFirstTime&&(this._fireLocalEventIfExist("change"),this._fireEventIfExist("change")),this._isFirstTime=!1}_setSelectedByOptionItem(e,t=!1){let n=e.index,i=this._getDataAndUI(n);this._setSelectedByItem(i.ui,t)}_updateHeaderUI(e=null,t=null){let n=null===e?this.uiData:e,i=this._isArray(n.index)?n.ui[0].innerHTML:null;this._wrapper.headerContent.innerHTML=null!==t?t:i||n?.ui?.innerHTML||"&nbsp;";let r=this._getEle("."+this._css.itemLabel,this._wrapper.headerContent);if("true"===this._settings.showPlusItemCounter.toString()&&null!==n.ui&&n.ui.length>1&&(r.innerHTML=r.innerHTML+`<span class="${this._css.headerCounter}">&nbsp; (+${n.ui.length-1})</span>`),"false"===this._settings.showIcon.toString()){let e=this._getEle("img",this._wrapper.headerContent);e&&this._hide(e)}this._setTitleMinHeight(!1)}_findElementByIndexProp(e){let t=this._getAllEle(`ul li.${this._css.item}`,this._wrapper.holder),n=t.length;for(let i=0;i<n;i++)if(t[i].index===e)return t[i];return null}_getDataAndUI(e=null){let t,n,i,r=this.ele,a=null,s=-1,o=this,l=!1,c=function(e){let t=r.options[e],n=e;return{option:t,data:o._parseOption(t),index:n,ui:o._findElementByIndexProp(n)}};if(null!==e)i=c(e),a=i.option,t=i.data,s=i.index,n=i.ui;else if(n=this._getAllEle("ul li."+this._css.itemSelected,this._wrapper.holder),n.length>1){let e=[],r=[],o=[],u=[];for(let t=0;t<n.length;t++)i=c(n[t].index),e.push(i.data),r.push(i.option),o.push(i.index),u.push(i.ui);t=e,a=r,s=o,n=u,l=!0}else i=c(n[0]?.index||this.selectedIndex),a=i.option||null,t=i.data||null,s=i.index||-1,n=i.ui||null;return{data:t,ui:n,index:s,option:a,isArray:l}}_isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)};updateUiAndValue(e=null){let t=null===e?this.uiData:e;this._updateHeaderUI(t);let n=this._wrapper.valueBox;if(n.value=this.ele.value,this._isMultiple&&"[]"===n.name.substr(n.name.length-2,n.name.length)){this._wrapper.moreValueBox.innerHTML="";for(let e=1;e<t.data.length;e++){let i=this._createEle("input",{type:"hidden",name:n.name,value:t.data[e].value});this._wrapper.moreValueBox.appendChild(i)}}}_updateUiAndValueByIndex(e){let t=this._getDataAndUI(e);this.updateUiAndValue(t)}_createEle(e,t,n){let i=document.createElement(e);if(t)for(let e in t)"style"===e?i.style.cssText=t[e]:i[e]=t[e];return n&&(i.innerHTML=n),i}_getEle(e,t=null){return null===t?document.querySelector(e):t.querySelector(e)}_getAllEle(e,t=null){return null===t?document.querySelectorAll(e):t.querySelectorAll(e)}_getInternalStyle(e){return void 0===e.style?"":e.style.cssText}_toggleShow(e){e.style.display="none"===e.style.display||""===e.style.display?"inherit":"none"}_show(e,t="block"){e.style.display=t}_hide(e){e.style.display="none"}_insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling)}_insertBefore(e,t){return t.insertBefore(e,t)}_getIndex(e){return[...this._getAllEle("ul li",this._wrapper.holder)].indexOf(e)}_getProp(e,t){let n={};for(let i=0;i<e.attributes.length;i++){let r=e.attributes[i].nodeName,a=e.attributes[i].nodeValue;if(t===r)return a;n[r]=a}return void 0===t?n:null}_getDataSet(e,t=null){return null===t?e.dataset:e.dataset[t]||null}_bindEvents(e,t,n){e.addEventListener(t,n)}_unbindEvents(e,t,n){e.removeEventListener(t,n)}_adjustChildHeight(e=null){if(null!==(e=null===e?parseInt(this._settings.visibleRows):e)){let t=this._getEle("li[data-ms-index='0']",this._wrapper.listOfItems),n=null!==this._settings.rowHeight?this._settings.rowHeight:t.clientHeight;this._wrapper.listOfItems.style.height=e*n+"px"}}_setTitleMinHeight(e=!0){let t=0;if(!0===e){let e=this._getAllEle("li",this._wrapper.listOfItems),n=e.length;for(let i=0;i<n;i++){let n=e[i];t=n.clientHeight>t?n.clientHeight:t}}else t=this._wrapper.headerA.clientHeight;this._wrapper.header.style.minHeight=t+"px"}_makeUiAsList(e,t){!0===e?(this._hide(this._wrapper.header),this.open(null,!0),this._adjustChildHeight(t),this._wrapper.listOfItems.style.position="relative",this._wrapper.listOfItems.style.display="inline-block",this._wrapper.listOfItems.style.zIndex=0,this._wrapper.holder.style.zIndex=0,this._isList=!0):(this._show(this._wrapper.header),this._wrapper.listOfItems.style.height=null,this._wrapper.listOfItems.style.position="absolute",this._wrapper.listOfItems.style.zIndex=this._settings.zIndex,this._wrapper.holder.style.zIndex=0,this._isList=!1,this.close(null))}_bindDocumentEvents(e,t=!0,n=!0){this._unbindDocumentEvents(),this._onDocumentClick=e=>{let t=this._wrapper.listOfItems.getBoundingClientRect(),n=this._wrapper.header.getBoundingClientRect(),i=t.left+t.width,r=n.top+t.height+n.height;(e.clientX<t.left||e.clientX>i||e.clientY<n.y||e.clientY>r)&&this.close(e)},this._onDocumentKeyDown=e=>{switch(e.keyCode){case this._DOWN_ARROW:case this._RIGHT_ARROW:e.preventDefault(),e.stopPropagation(),this._show(this._wrapper.listOfItems),this._isOpen=!0,this.next();break;case this._UP_ARROW:case this._LEFT_ARROW:e.preventDefault(),e.stopPropagation(),this.previous();break;case this._ESCAPE:case this._ENTER:e.preventDefault(),e.stopPropagation(),this.close(null);break;case this._SHIFT:this._shiftHolded=!0;break;case this._CONTROL:case this._MAC_CONTROL:this._controlHolded=!0;break;case this._SPACE:this._show(this._wrapper.listOfItems),this._isOpen=!0;break;default:e.keyCode>=this._ALPHABETS_START&&!1===this._isList&&"true"===this._settings.enableAutoFilter.toString()&&this._showHideFilterBox(!0),this._shiftHolded=!1,this._controlHolded=!1}},this._onDocumentKeyUp=e=>{this._shiftHolded=!1,this._controlHolded=!1},!0===t&&this._bindEvents(document,"mouseup",this._onDocumentClick),!0===n&&(this._bindEvents(document,"keydown",this._onDocumentKeyDown),this._bindEvents(document,"keyup",this._onDocumentKeyUp))}_unbindDocumentEvents(){null!==this._onDocumentClick&&this._unbindEvents(document,"mouseup",this._onDocumentClick),null!==this._onDocumentKeyDown&&this._unbindEvents(document,"keydown",this._onDocumentKeyDown),null!==this._onDocumentKeyUp&&this._unbindEvents(document,"keyup",this._onDocumentKeyUp),this._onDocumentClick=null,this._onDocumentKeyDown=null,this._onDocumentKeyUp=null}_scrollToIfNeeded(e=null,t=null,n="next"){let i=this._wrapper.listOfItems;if(i.getBoundingClientRect(),null===e&&null!==t&&(i.scrollTop=t),e=void 0!==e?e:this._getEle("li."+this._css.itemSelected)){let t=e.offsetTop,r=i.clientHeight,a=e.clientHeight;t+a-i.scrollTop>r&&"next"===n?i.scrollTop=t+a-r:t-i.scrollTop<0&&"previous"===n&&(i.scrollTop=t)}}_fireLocalEventIfExist(e,t=null){if("function"==typeof this._settings.on[e]){let n=null===t?this._getDataAndUI():t,i=this._settings.on[e];try{i(n)}catch(e){console.error(e.message)}}}_fireEventIfExist(e){if(this.ele.dataset[e]){let t=new Function(this.ele.dataset[e]);try{t()}catch(e){console.error(e.message)}}if(this._has_handler(e).hasEvent){if(this._has_handler(e).byElement)try{this.ele[e]()}catch(t){try{this.ele["on"+e]()}catch(e){}}else if(this._has_handler(e).byJQuery)switch(e){case"keydown":case"keyup":break;default:try{"undefined"!=typeof jQuery&&jQuery(this.ele).triggerHandler(e)}catch(e){}}return!1}}_has_handler(e){let t={byElement:!1,local:!1,byJQuery:!1,hasEvent:!1};null!==this._settings.on[e]&&(t.hasEvent=!0,t.local=!0);try{null!==this._getProp(this.ele,"on"+e)&&(t.hasEvent=!0,t.byElement=!0)}catch(e){}if("undefined"!=typeof jQuery){let n,i=jQuery(this.ele);n="function"==typeof jQuery?._data?jQuery?._data(this.ele,"events"):i.data("events"),n&&n[e]&&(t.hasEvent=!0,t.byJQuery=!0)}return t}add(e,t=null){let n,i,r,a,s,o,l;e instanceof HTMLOptionElement?l=e:"string"==typeof e?(n=i=e,l=new Option(n,i)):e instanceof Object&&(n=e.text||"",i=e.value||n,r=e.title||"",a=e.image||"",o=e.imageCss||"",s=e.description||"",l=new Option(n,i),l.setAttribute("data-description",s),l.setAttribute("data-image",a),l.setAttribute("data-title",r),l.setAttribute("data-image-css",o)),this.ele.add(l,t),this._makeChildren(),this._fireLocalEventIfExist("add")}remove(e){let t=this._getDataAndUI(e);return this.ele.remove(e),this._makeChildren(),this._fireLocalEventIfExist("remove",t),t}next(){let e,t=this,n=this.optionsUI,i=n.length;if(e=this._isFilterApplied?this._nexPrevCounter:this.selectedIndex,i>0){let r=function(){let r=e;for(;r<i;r++){let e=r+1;if(e=e>=i?i-1:e,t._nexPrevCounter++,!n[e].classList.contains(t._css.itemDisabled))return n[e]}return null}();r&&(this._setSelectedByItem(r,!1,!0),this._scrollToIfNeeded(r))}}previous(){let e,t=this,n=this.optionsUI;if(n.length,e=this._isFilterApplied?this._nexPrevCounter:this.selectedIndex,n.length>0){let i=function(i){let r=e;for(;r>0;r--){let e=r-1;if(e=e>=0?e:0,t._nexPrevCounter--,!n[e].classList.contains(t._css.itemDisabled))return n[e]}return null}();i&&(this._setSelectedByItem(i,!1,!0),this._scrollToIfNeeded(i,null,"previous"))}}open(e,t=!1){this.disabled||(this._isOpen?this.close(null):(this._isOpen=!0,this._show(this._wrapper.listOfItems),!1===t&&this._bindDocumentEvents(e),this._wrapper.arrow.classList.remove(this._css.arrowDown),this._wrapper.arrow.classList.add(this._css.arrowUp),this._adjustChildHeight(),this._scrollToItem(),this._fireLocalEventIfExist("open")))}close(e){let t=this._isList,n=!1;if(null!==e){e.stopImmediatePropagation();let t=e.target.closest("li");n=null!==t&&t.classList.contains("disabled")}this.disabled||t||n||(this._scrollToIfNeeded(null,0),this._hide(this._wrapper.listOfItems),this._wrapper.arrow.classList.add(this._css.arrowDown),this._wrapper.arrow.classList.remove(this._css.arrowUp),this._isOpen=!1,this._isMouseDown=!1,this._shiftHolded=!1,this._controlHolded=!1,this._isFilterApplied=!1,this._wrapper.filterInput.value="",this._wrapper.filterInput.blur(),"false"===this._settings.showFilterAlways.toString()&&this._showHideFilterBox(!1),this._applyFilters(),this._unbindDocumentEvents(),this._updateHeaderUI(),this.ele.length!==this._getAllEle(`li.${this._css.item}`,this._wrapper.listOfItems).length&&(this._makeChildren(),this.updateUiAndValue()),this._fireLocalEventIfExist("close"))}namedItem(e,t=!1){let n=null,i=this.ele.querySelector(`option[name='${e}']`);if(i&&t){n={};let e=this._parseOption(i);n.option=i,n.data=e}else n=i;return n}item(e,t=!1){let n=null,i=this.ele.options[e];if(i&&t){n={};let e=this._parseOption(i);n.option=i,n.data=e}else n=i;return n}visible(e=null){if(!0===e?this._show(this._wrapper.holder,"inline-block"):!1===e&&this._hide(this._wrapper.holder),null===e)return"none"!==this._wrapper.holder.style.display}showRows(e){this._settings.visibleRows=e>this.length?this.length:e,this._adjustChildHeight()}visibleRows(e){this.showRows(e)}on(e,t){this._settings.on[e]=t}off(e,t){this._settings.on[e]=null}refresh(){this._makeChildren(),this.updateUiAndValue()}destroy(){this._show(this.ele),this.ele.required=this._wrapper.valueBox.required,this.ele.name=this._wrapper.valueBox.name,this._wrapper.holder.parentNode.removeChild(this._wrapper.holder)}get selectedIndex(){return this.ele.selectedIndex}set selectedIndex(e){let t=this,n=function(e){t.ele.selectedIndex=e,-1===e?(t._updateHeaderUI(null,""),t._removeOldSelected()):t._setSelectedByOptionItem(t.ele.options[e])};if(e<this.length&&!this._isArray(e))n(e);else if(this._isMultiple&&this._isArray(e)){for(let t=0,n=e.length;t<n;t++)e[t]<this.length&&-1!==e[t]&&this._setSelectedByOptionItem(this.ele.options[e[t]],t>0);this._updateHeaderUI(null)}else n(e)}get options(){return this.ele.options}set options(e){e instanceof HTMLOptionElement?(this.ele.add(e),this._makeChildren(),this.updateUiAndValue()):"number"==typeof e&&(this.ele.length=e,this._makeChildren(),this.updateUiAndValue())}get optionsUI(){return this._cacheEle.allItems,this._cacheEle.allItems=this._getAllEle(`li.${this._css.item}`,this._wrapper.listOfItems)}get length(){return this.ele.length}set length(e){this.ele.options.length=e,this._makeChildren(),this.updateUiAndValue()}get value(){return this.ele.value}set value(e){this.ele.value=e,this.selectedIndex=this.ele.selectedIndex}get selectedText(){return this.selectedIndex>=0?this.ele.options[this.selectedIndex].text:""}get disabled(){return this.ele.hasAttribute("disabled")}set disabled(e){e?(this.ele.setAttribute("disabled",""),this._wrapper.holder.classList.add(this._css.wrapperDisabled)):(this.ele.removeAttribute("disabled"),this._wrapper.holder.classList.remove(this._css.wrapperDisabled))}get form(){return this.ele.form}get multiple(){return this.ele.multiple}set multiple(e){e?(this.ele.setAttribute("multiple",""),this._enableCheckbox=this._settings.enableCheckbox):this.ele.removeAttribute("multiple"),this._isMultiple=e,e||(this.selectedIndex=this.ele.selectedIndex,this._enableCheckbox=!1),this._makeChildren()}get name(){return this._wrapper?.valueBox?this._wrapper.valueBox.name||"":this.ele.name}set name(e){this._wrapper?.valueBox?this._wrapper.valueBox.name=e:this.ele.name=e}get required(){return this._wrapper.valueBox.required}set required(e){e?this._wrapper.valueBox.setAttribute("required",!0):this._wrapper.valueBox.removeAttribute("required")}get size(){return this.ele.size}set size(e){this.ele.size=e,this._makeUiAsList(e>1,e)}get selectedOptions(){let e=null;if(this.selectedIndex>=0&&(e=this.ele.options[this.selectedIndex],this.multiple)){e=[];let t=this.options,n=t.length;for(let i=0;i<n;i++)t[i].selected&&e.push(t[i]);e=1===e.length?e[0]:e}return e}get children(){return this.ele.children}get uiData(){return this._getDataAndUI()}get version(){return"4.0.3"}}class wr{constructor(e,t){"string"==typeof e?document.querySelectorAll(e).forEach((e=>{new wr(e,t)})):(e.msDropdown=this,this._ddMaker=new yr(e,t))}setSettingAttribute(e,t,n=!1){this._ddMaker.setSettingAttribute(e,t),n&&this._ddMaker.refresh()}add(e,t){this._ddMaker.add(e,t)}remove(e){return this._ddMaker.remove(e)}next(){this._ddMaker.next()}previous(){this._ddMaker.previous()}open(){this._ddMaker.open(null,!1)}close(){this._ddMaker.close(null)}namedItem(e,t=!1){return this._ddMaker.namedItem(e,t)}item(e,t=!1){return this._ddMaker.item(e,t)}visible(e=null){return this._ddMaker.visible(e)}showRows(e){this._ddMaker.showRows(e)}visibleRows(e){this._ddMaker.showRows(e)}on(e,t){this._ddMaker.on(e,t)}off(e,t){this._ddMaker.off(e,t)}updateUiAndValue(){this._ddMaker.updateUiAndValue()}refresh(){this._ddMaker.refresh()}destroy(){this._ddMaker.destroy()}get selectedIndex(){return this._ddMaker.selectedIndex}set selectedIndex(e){this._ddMaker.selectedIndex=e}get options(){return this._ddMaker.options}set options(e){this._ddMaker.options=e}get optionsUI(){return this._ddMaker.optionsUI}get length(){return this._ddMaker.length}set length(e){this._ddMaker.length=e}get value(){return this._ddMaker.value}set value(e){this._ddMaker.value=e}get selectedText(){return this._ddMaker.selectedText}get disabled(){return this._ddMaker.disabled}set disabled(e){this._ddMaker.disabled=e}get form(){return this._ddMaker.form}get multiple(){return this._ddMaker.multiple}set multiple(e){this._ddMaker.multiple=e}get name(){return this._ddMaker.name}set name(e){this._ddMaker.name=e}get required(){return this._ddMaker.required}set required(e){this._ddMaker.required=e}get size(){return this._ddMaker.size}set size(e){this._ddMaker.size=e}get selectedOptions(){return this._ddMaker.selectedOptions}get children(){return this._ddMaker.children}get uiData(){return this._ddMaker.uiData}static make(e,t){if(!e.msDropdown)try{let n=new wr(e,t);return e.addEventListener("change",(()=>{e.multiple?e.msDropdown.refresh():e.msDropdown.selectedIndex=current.selectedIndex})),n}catch(e){console.log(e.message)}}static get version(){return"4.0.3"}static get author(){return"Marghoob Suleman"}}class xr extends HTMLSelectElement{constructor(e,t){super()}connectedCallback(){setTimeout((()=>{this.msDropdown||(this.msDropdown=new wr(this));try{this.addEventListener("change",(e=>{this.multiple?this.msDropdown.refresh():this.msDropdown.selectedIndex=this.selectedIndex}))}catch(e){console.log(e.message)}}),1)}disconnectedCallback(){}adoptedCallback(){}attributeChangedCallback(e,t,n){if(this.msDropdown&&-1!==e.indexOf("data-")){let t=(e=e.replace("data-","")).toLowerCase().split("-");for(let e=1;e<t.length;e++)t[e]=t[e].charAt(0).toUpperCase()+t[e].substring(1);this.msDropdown.setSettingAttribute(t.join(""),n,!0)}console.log("attributeChangedCallback")}static get observedAttributes(){return["data-main-css","data-show-icon","data-event","data-child-width","data-child-height","data-enable-checkbox","data-checkbox-name-suffix","data-enable-auto-filter","data-visible-rows","data-show-plus-item-counter","data-error-message","data-show-filter-always","data-show-list-counter","data-image-position"]}}if(customElements.define("ms-dropdown",xr,{extends:"select"}),window.MsDropdown=wr,navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")&&wr.make("select[is='ms-dropdown']"),_r()()||new MsDropdown(".colourScheme"),window.Worker){const e=document.getElementById("inputString"),t=document.getElementById("run"),i=document.getElementById("download"),r=document.getElementById("running"),a=document.querySelector(".div-result"),s=document.querySelector(".needs-validation");let o="";(()=>{const e=document.getElementById("singleColourDiv"),t=document.getElementById("colourSchemeDiv");document.querySelector('input[name="colourGeneration"]')&&document.querySelectorAll('input[name="colourGeneration"]').forEach((n=>{n.addEventListener("change",(function(n){"singleColour"===n.target.value?(t.classList.add("d-none"),e.classList.remove("d-none")):(t.classList.remove("d-none"),e.classList.add("d-none"))}))}))})();const l=document.querySelector("#colourPicker");new br({parent:l,popup:"top",color:"black"}).onChange=function(e){l.style.background=e.rgbaString,o=e.rgbString};const c=new Worker(new URL(n.p+n.u(849),n.b));e.addEventListener("input",(()=>{s.checkValidity()?(s.classList.add("was-validated"),t.classList.remove("disabled")):(s.classList.add("was-validated"),t.classList.add("disabled"))})),s.addEventListener("input",(()=>{s.checkValidity()?(s.classList.add("was-validated"),t.classList.remove("disabled")):(s.classList.add("was-validated"),t.classList.add("disabled"))})),t.addEventListener("click",(()=>{const n=document.getElementById("noOfOrientations").value,l=document.getElementById("startAngle").value,u=document.getElementById("endAngle").value;if(!s.checkValidity())return void s.classList.add("was-validated");s.classList.add("was-validated"),a.classList.add("d-none"),i.classList.add("d-none"),r.classList.remove("d-none"),t.classList.add("d-none");const d=bi("svg");d.selectAll("*").remove(),d.remove();const h=document.getElementById("removeNumbers").checked,f=document.getElementById("removeSpecialCharacters").checked,p=document.getElementById("reverseColourOrdering").checked,b=document.getElementById("removeStopWords").checked,m=document.querySelector('input[name="transformationMethodology"]:checked').value,g=document.getElementById("fontFamily").value,_=document.getElementById("fontScale").value,v=document.getElementById("colourScheme").value,y=document.querySelector('input[name="spiral"]:checked').value,w=document.querySelector('input[name="capitalisation"]:checked').value,x=e.value,k=document.querySelector('input[name="colourGeneration"]:checked').value,E={isRemoveNumbers:h,isRemoveSpecialCharacters:f,isRemoveStopWords:b,selectedTransformationMethodology:m,capitalisation:w};c.postMessage([x,E]);const M=()=>~~(Math.random()*n)*u-l;let A=!1;"singleColour"==k&&(A=!0),c.onmessage=e=>{const n=e.data,s=kr(n,{width:500,height:400,fontFamily:g,colourScheme:v,fontScale:_,rotate:M,spiral:y,isReverseColourOrdering:p,isSingleColour:A,color:o});s[0].start(),bi("#cloud").node().appendChild(s[1].node()),i.classList.remove("d-none"),t.classList.remove("d-none"),r.classList.add("d-none"),a.classList.remove("d-none")}})),i.addEventListener("click",(()=>{er("svg","word-cloud",{background:"white"})}))}const kr=(e,{size:t=(e=>e.length),word:n=(e=>e),marginTop:i=0,marginRight:r=0,marginBottom:a=0,marginLeft:s=0,width:l,height:c,maxWords:u=250,fontFamily:d="sans-serif",fontScale:h=15,padding:f=0,rotate:p=0,invalidation:b,colourScheme:m="d3.schemeCategory10",spiral:g=archimedean,isReverseColourOrdering:_=!1,isSingleColour:v=!1,color:y=selectedColour}={})=>{const w=o("string"==typeof e?e.split(/\W+/g):Array.from(e),t,(e=>e)).sort((([,e],[,t])=>function(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}(e,t))).slice(0,u).map((([e,t])=>({text:n(e),size:t})));!1===v?((e,t,n)=>{let i,r=!1;switch(e){case"d3.schemeCategory10":i=Bn(_i).domain(t);break;case"d3.schemeDark2":i=Bn(vi).domain(t);break;case"d3.schemeTableau10":i=i=Bn(yi).domain(t);break;case"d3.schemeAccent":i=i=Bn(wi).domain(t);break;case"d3.schemePaired":i=Bn(xi).domain(t);break;case"d3.schemePastel1":i=Bn(ki).domain(t);break;case"d3.interpolateBlues":i=pi(Mi).domain([0,t.length]),r=!0;break;case"d3.interpolateGreens":i=pi(Ai).domain([0,t.length]),r=!0;break;case"d3.interpolateCool":i=pi(zi).domain([0,t.length]),r=!0;break;case"d3.interpolateRdGy":i=pi(Fi).domain([0,t.length]),r=!0;break;case"d3.interpolateCividis":i=pi(ji).domain([0,t.length]),r=!0;break;case"d3.interpolatePurples":i=pi(Wi).domain([0,t.length]),r=!0;break;case"d3.interpolateOranges":case"d3.interpolateOranges":i=pi(Vi).domain([0,t.length]),r=!0;break;case"d3.interpolateMagma":i=pi(Gi).domain([0,t.length]),r=!0;break;case"d3.interpolateBrBG":i=pi(Yi).domain([0,t.length]),r=!0;break;case"d3.interpolatePuOr":i=pi(Ki).domain([0,t.length]),r=!0;break;case"d3.interpolateRdBu":i=pi(Ji).domain([0,t.length]),r=!0;break;default:return t}if(!1===n)for(let e=0;e<t.length;e++)t[e].color=i(!1===r?t[e]:e);else{let e=t.length-1;for(const n of t)n.color=i(!1===r?t[e]:e),e--}})(m,w,_):((e,t)=>{for(let n of t)n.color=e})(y,w);const x=("svg",bi(le("svg").call(document.documentElement))).attr("viewBox",[0,0,l,c]).attr("font-family",d).attr("text-anchor","middle").attr("style","max-width: 100%; height: auto; height: intrinsic;");const k=x.append("g").attr("transform",`translate(${s},${i})`),E=Zi()().size([l-s-r,c-i-a]).words(w).padding(f).rotate(p).font(d).spiral(g).fontSize((e=>Math.sqrt(e.size)*h)).on("word",(({size:e,x:t,y:n,rotate:i,text:r,color:a})=>{k.append("text").transition().duration(500).style("fill",a).attr("font-size",e).attr("transform",`translate(${t},${n}) rotate(${i})`).text(r)}));return[E,x]}})()})();